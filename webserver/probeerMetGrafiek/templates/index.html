{% extends "layout.html" %}
{% block body %}

<script type="text/javascript">
  
	//var myVar = setInterval(submit_form, 1000);
var waarde = 0;

	$(function() {
	var submit_form = 
		function(e) 
		{
			$.getJSON($SCRIPT_ROOT + '/_add_numbers', 
			//{
			//a: $('input[name="a"]').val(),
			//b: $('input[name="b"]').val()
			//},
			function(data) {
				$('#result').text(data.result);
				$('input[name=a]').focus().select();
				waarde = String(data.result);
				alert(waarde);
			});
			return false;
		};
	
	$('a#calculate').bind('click', submit_form);
	window.setInterval(submit_form,1000);
	
	$('input[type=text]').bind('keydown', function(e) {
		if (e.keyCode == 13) {
			submit_form(e);
		}
	});
	
	$('input[name=a]').focus();
});


  </script>

<h1 id="h1">jQuery Example</h1>
	<input type="text" size="5" name="a"> +
	<input type="text" size="5" name="b"> =
	<span id="result">?</span>
	<p><a href=# id="calculate">calculate server side</a>

	<div class="container">
		    <canvas id="myChart"></canvas>
		      </div>

	<script>

//document.getElementById("h1").innerHTML=String(waarde);

    let myChart = document.getElementById('myChart').getContext('2d');

        // Global Options
        Chart.defaults.global.defaultFontFamily = 'Lato';
	    Chart.defaults.global.defaultFontSize = 18;
	        Chart.defaults.global.defaultFontColor = '#777';

		    let massPopChart = new Chart(myChart, {
			          type:'line', // bar, horizontalBar, pie, line, doughnut, radar, polarArea
			          
			    	  data:{
					          labels:['Boston', 'Worcester', 'Springfield', 'Lowell', 'Cambridge', 'New Bedford'],
					          datasets:[{
							            label:'Population',
								              data:[
      180000,
												              181045,
												              153060,
														                  106519,
														                  105162,
																	              95072
																			                ],
																					          //backgroundColor:'green',
																					          backgroundColor:[
																							              'rgba(255, 99, 132, 0.6)',
																								                  'rgba(54, 162, 235, 0.6)',
																								                  'rgba(255, 206, 86, 0.6)',
																											              'rgba(75, 192, 192, 0.6)',
																											              'rgba(153, 102, 255, 0.6)',
																													                  'rgba(255, 159, 64, 0.6)',
																													                  'rgba(255, 99, 132, 0.6)'
																																            ],
																																	              borderWidth:1,
																																	              borderColor:'#777',
																																			                hoverBorderWidth:3,
																																			                hoverBorderColor:'#000'
																																						        }]
						        },
				        options:{
								scales: {
									            yAxes: [{
											                    ticks: {
														                        min: 10000,
																						max: 190000
																							                }
														               }]
											           },
						        title:{
								          display:true,
								          text:'Largest Cities In Massachusetts',
									            fontSize:25
											            },
									        legend:{
											          display:true,
											          position:'right',
												            labels:{
														                fontColor:'#000'
																	          }
												          },
								        layout:{
										          padding:{
												              left:50,
												              right:0,
													                  bottom:0,
														                  top:0
																	            }
												          },
											        tooltips:{
													          enabled:true
															          }
										
								      }
				      });



	</script>


{% endblock %}
